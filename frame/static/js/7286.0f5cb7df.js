"use strict";(self["webpackChunkvue3_element_plus_admin"]=self["webpackChunkvue3_element_plus_admin"]||[]).push([[7286,5447],{54025:function(e,t,o){o.d(t,{D4:function(){return r},EZ:function(){return s},K4:function(){return n},ZF:function(){return i},ao:function(){return d},ou:function(){return l},wS:function(){return u}});var a=o(20077);function r(e){return(0,a.Z)({url:"/backstage/configuration/page",method:"get",params:e})}function n(e){return(0,a.Z)({url:`/backstage/configuration/info/${e}`,method:"get"})}function l(e){return(0,a.Z)({url:"/backstage/configuration/create",method:"post",data:e})}function u(e){return(0,a.Z)({url:"/backstage/configuration/update",method:"post",data:e})}function s(e){return(0,a.Z)({url:"/backstage/configuration/delete",method:"post",data:e})}function d(e){return(0,a.Z)({url:"/backstage/configuration/status",method:"post",data:e})}function i(e){return(0,a.Z)({url:`/backstage/configuration/list/${e}`,method:"get"})}},91450:function(e,t,o){o.d(t,{D4:function(){return r},EZ:function(){return l},ZJ:function(){return u},ou:function(){return n}});var a=o(20077);function r(e){return(0,a.Z)({url:"/backstage/mail/page",method:"get",params:e})}function n(e){return(0,a.Z)({url:"/backstage/mail/create",method:"post",data:e})}function l(e){return(0,a.Z)({url:"/backstage/mail/delete",method:"post",data:e})}function u(e){return(0,a.Z)({url:"/backstage/mail/update/config",method:"post",data:e})}},45447:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var a=o(59571),r=(o(97085),o(58125),o(66847)),n=(o(28630),o(440)),l=o(54592);function u(e,t,o,u,s,d){const i=r.EZ,c=a.nH,m=a.ly;return(0,n.wg)(),(0,n.j4)(m,{model:e.form,rules:e.rules,ref:"refForm",onKeyup:t[5]||(t[5]=(0,l.D2)((t=>e.submit()),["enter"])),"label-position":"top"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"邮箱",prop:"username"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{modelValue:e.form.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),placeholder:"邮箱"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,{label:"授权码",prop:"password"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{modelValue:e.form.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),placeholder:"授权码"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,{label:"协议",prop:"protocol"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{modelValue:e.form.protocol,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.protocol=t),placeholder:"协议"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,{label:"主机",prop:"host"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{modelValue:e.form.host,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.host=t),placeholder:"主机"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(c,{label:"端口",prop:"port"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{modelValue:e.form.port,"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.port=t),placeholder:"端口"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])}var s=o(84367),d=(0,n.aZ)({emits:["refresh"],props:{data:{type:Object}},setup(e){const t=(0,s.iH)(),o=(0,s.qj)({types:[],form:{username:"",password:"",protocol:"",host:"",port:""}}),a=(0,s.qj)(function(){return{username:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入授权码",trigger:"blur"}],protocol:[{required:!0,message:"请输入协议",trigger:"blur"}],host:[{required:!0,message:"请输入主机",trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"}]}}());(0,n.YP)(e.data,(e=>{o.form={...e}}),{deep:!0,immediate:!0});const r=e=>{t.value.validate((t=>{"function"===typeof e&&e(t,o.form)}))};return(0,n.Jd)((()=>{t.value.resetFields()})),{refForm:t,...(0,s.BK)(o),rules:a,validate:r}}}),i=o(40465);const c=(0,i.Z)(d,[["render",u]]);var m=c},27286:function(e,t,o){o.r(t),o.d(t,{default:function(){return y}});var a=o(42321),r=(o(1926),o(14646)),n=(o(21123),o(13289)),l=(o(14635),o(59571)),u=(o(97085),o(58125),o(43138)),s=(o(74123),o(37471),o(440)),d=o(38643);const i={class:"dialog-footer"},c=(0,s.Uk)("取消"),m=(0,s.Uk)("确认");function f(e,t,o,f,p,g){const b=u.rh,w=u.KD,h=l.nH,v=l.ly,k=n.mi,_=r.d0,y=a.t,Z=(0,s.Q2)("repeat");return(0,s.wg)(),(0,s.j4)(_,{width:"500px",title:"备份配置",modelValue:e.visible,"onUpdate:modelValue":t[3]||(t[3]=t=>e.visible=t),"close-on-click-modal":!1,onClosed:e.dialogClosedHandle,"append-to-body":"",draggable:""},{footer:(0,s.w5)((()=>[(0,s._)("span",i,[(0,s.Wm)(k,{onClick:t[1]||(t[1]=t=>e.visible=!1)},{default:(0,s.w5)((()=>[c])),_:1}),(0,s.wy)(((0,s.wg)(),(0,s.j4)(k,{type:"primary",onClick:t[2]||(t[2]=t=>e.submit())},{default:(0,s.w5)((()=>[m])),_:1})),[[Z]])])])),default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(v,{"label-position":"top"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{label:"类型"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{modelValue:e.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.id=t),onChange:e.changeHandle},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.types,(e=>((0,s.wg)(),(0,s.j4)(b,{key:e.id,label:e.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,d.zw)(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1})])),_:1}),e.component?((0,s.wg)(),(0,s.j4)((0,s.LL)(e.component),{key:0,ref:"refForm",data:e.current.json_value},null,8,["data"])):(0,s.kq)("",!0)])),[[y,e.loading]])])),_:1},8,["modelValue","onClosed"])}var p=o(84367),g=o(68257),b=o(45447),w=o(54025),h=o(91450),v=(0,s.aZ)({emits:["refresh"],components:{QQ:b["default"]},setup(){const e=(0,p.iH)(),t=(0,p.qj)({visible:!1,loading:!1,key:"MAILBOX_CONFIG",types:[],id:"",current:{type:"",json_value:{}}}),o=(0,s.Fl)((()=>{let e="";switch(t.current.type){case 1:e="QQ";break}return e})),a=async()=>{t.visible=!0,t.loading=!0;const e=await(0,w.ZF)(t.key);if(e){t.types=e.data;for(let e=0;e<t.types.length;e++){const o=t.types[e];if(1===o.status){t.id=o.id;const e=o.json_value?JSON.parse(o.json_value):{};t.current={...o,json_value:e};break}}}(0,s.Y3)((()=>{t.loading=!1}))},r=e=>{for(let o=0;o<t.types.length;o++){const a=t.types[o];if(a.id===e){t.id=a.id;const e=a.json_value?JSON.parse(a.json_value):{};t.current={...a,json_value:e};break}}},n=()=>{e.value.validate((async(e,o={})=>{if(e){const e={id:t.id,json_key:t.key,json_value:JSON.stringify(o)},a=await(0,h.ZJ)(e);a&&(t.visible=!1,(0,g.z8)({message:"操作成功!",type:"success"}))}}))},l=()=>{};return{refForm:e,component:o,...(0,p.BK)(t),init:a,changeHandle:r,submit:n,dialogClosedHandle:l}}}),k=o(40465);const _=(0,k.Z)(v,[["render",f]]);var y=_}}]);